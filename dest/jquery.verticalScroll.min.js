/*
jquery.verticalScroll.js
@license under the incredibly permissive MIT License.
@Copyright Â© 2013 Takeharu.Oshida
*/
(function(n){return n.fn.verticalScroll=function(t){var e,r;switch(e={buffer:20,duration:50,easing:"linear",height:400,max:0,translate3d:!1,maginification:.5},r=n.extend(e,t),r.magnification){case"quick":r.magnification=1;break;case"lazy":r.magnification=.3;break;default:isNaN(Number(r.magnification))&&(r.magnification=.5)}return n(this).each(function(t,e){var a,i,u,o,c,f,g,h,s,l,m,d,v,b,p;return a=n(e),b={},o={},i=0,d=!1,c=function(){var t;return t=0,a.children().each(function(e,r){return t+=n(r).height()}),t},g=function(){return"-webkit-transform "+r.duration/1e3+"s "+r.easing},f=function(n){return r.translate3d?"translate3d(0,"+n+"px,0)":"translateY("+n+"px)"},0===r.max&&(r.max=c()),p=g(),u=function(){var n,t,e;return e=b.pageY||0,n=o.pageY||0,t=i+(n-e)*r.magnification,t>r.buffer&&(t=r.buffer,a.one("touchend",function(){return v(0)})),-1*(r.max+r.buffer)>t&&(t=-1*(r.max+r.buffer),a.one("touchend",function(){return v(-1*r.max)})),v(t)},v=function(t){return d?!1:a.children().each(function(e,r){return n(r).css({webkitTransition:p,webkitTransform:f(t)})})},l=function(t){var e;return d=!1,e=new WebKitCSSMatrix(n(a.children()[0]).css("-webkit-transform")),i=e.f,b=t.originalEvent.targetTouches[0]||{},o=t.originalEvent.targetTouches[0]||{}},s=function(n){return n.preventDefault(),o=n.originalEvent.targetTouches[0]||{},u()},h=function(n){var t;return r.magnification>1&&(t=n.originalEvent.changedTouches[0]||{},t.pageY=b.pageY-o.pageY>0?t.pageY-10:t.pageY+10,o.pageY=t.pageY,u()),d=!0,b={},o={},!1},m=function(){return a.css({height:r.height,"overflow-y":"hidden"}).on("touchstart",l).on("touchend",h).on("touchmove",s)},m()})},this})(jQuery);