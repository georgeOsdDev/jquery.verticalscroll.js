/*
jquery.verticalScroll.js
@license under the incredibly permissive MIT License.
@Copyright Â© 2013 Takeharu.Oshida
*/
(function(n){return n.fn.verticalScroll=function(e){var t,r;switch(t={buffer:20,duration:50,easing:"linear",height:400,max:0,translate3d:!1,maginification:.5},r=n.extend(t,e),r.magnification){case"quick":r.magnification=1;break;case"lazy":r.magnification=.3;break;default:isNaN(Number(r.magnification))&&(r.magnification=.5)}return n(this).each(function(e,t){var a,i,u,o,c,f,g,h,s,l,m,d,v,b,p;return a=n(t),b={},o={},i=0,d=!1,c=function(){var e;return e=0,a.children().each(function(t,r){return e+=n(r).height()}),e},g=function(){var n;return n=(""+r.duration/1e3+"s").replace("0.","."),"-webkit-transform "+n+" "+r.easing},f=function(n){return r.translate3d?"translate3d(0,"+n+"px,0)":"translateY("+n+"px)"},0===r.max&&(r.max=c()),p=g(),u=function(){var n,e,t;return t=b.pageY||0,n=o.pageY||0,e=i+(n-t)*r.magnification,e>r.buffer&&(e=r.buffer,a.one("touchend",function(){return v(0)})),-1*(r.max+r.buffer)>e&&(e=-1*(r.max+r.buffer),a.one("touchend",function(){return v(-1*r.max)})),v(e)},v=function(e){return d?!1:a.children().each(function(t,r){return n(r).css({webkitTransition:p,webkitTransform:f(e)})})},l=function(e){var t;return d=!1,t=new WebKitCSSMatrix(n(a.children()[0]).css("-webkit-transform")),i=t.f,b=e.originalEvent.targetTouches[0]||{},o=e.originalEvent.targetTouches[0]||{}},s=function(n){return n.preventDefault(),o=n.originalEvent.targetTouches[0]||{},u()},h=function(n){var e;return r.magnification>1&&(e=n.originalEvent.changedTouches[0]||{},e.pageY=b.pageY-o.pageY>0?e.pageY-10:e.pageY+10,o.pageY=e.pageY,u()),d=!0,b={},o={},!1},m=function(){return a.css({height:r.height,"overflow-y":"hidden"}).on("touchstart",l).on("touchend",h).on("touchmove",s)},m()})},this})(jQuery);